<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Konten AI Harian</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }
        .thread-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: transform 0.3s ease;
        }
        .thread-card:hover {
            transform: translateY(-5px);
        }
        .thread-header {
            font-weight: 600;
            color: #343a40;
            margin-bottom: 1rem;
            font-size: 1.2rem;
            display: flex; /* Added for alignment */
            justify-content: space-between; /* Added for alignment */
            align-items: center; /* Added for alignment */
        }
        .prompt-item {
            padding: 0.5rem 0;
            border-bottom: 1px dashed #e9ecef;
            position: relative;
        }
        .prompt-item:last-child {
            border-bottom: none;
        }
        .copy-btn {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #6c757d;
            cursor: pointer;
            transition: color 0.2s;
        }
        .copy-btn:hover {
            color: #0d6efd;
        }
        .cta-section {
            background-color: #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        .api-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }
        .status-active {
            background-color: #28a745;
        }
        .status-inactive {
            background-color: #dc3545;
        }
        .schedule-info {
            background-color: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1050;
        }
        .generate-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        .loading-spinner {
            display: none;
            margin: 1rem auto;
        }
        .loading-spinner.active {
            display: block;
        }
        .thread-container {
            min-height: 300px;
        }
        .topic-selector {
            margin-bottom: 1rem;
        }
        .topic-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border-radius: 20px;
            background-color: #e9ecef;
            cursor: pointer;
            transition: all 0.2s;
        }
        .topic-badge:hover {
            background-color: #0d6efd;
            color: white;
        }
        .topic-badge.active {
            background-color: #0d6efd;
            color: white;
        }
        /* New styles for image prompt section */
        .image-prompt-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .image-prompt-item {
            background-color: #f1f3f5;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            position: relative;
            word-wrap: break-word; /* Ensure text wraps */
        }
        .image-prompt-item pre {
            white-space: pre-wrap; /* Preserve formatting but wrap */
            margin-bottom: 0;
            padding-right: 30px; /* Space for copy button */
        }
        .image-prompt-item .copy-btn {
            position: absolute;
            right: 10px;
            top: 10px;
            transform: none; /* Override parent style */
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1 class="text-center">Generator Konten AI Harian</h1>
            <p class="text-center mb-0">Menghasilkan 3 thread tutorial AI unik setiap hari pukul 07.00 WIB</p>
        </div>
    </div>

    <div class="container">
        <div class="schedule-info">
            <div class="d-flex align-items-center">
                <i class="bi bi-clock-history me-2"></i>
                <div>
                    <strong>Jadwal Otomatis:</strong> Setiap hari pukul 07.00 WIB
                    <div class="small">Konten terakhir dihasilkan: <span id="lastGenerated">-</span></div>
                </div>
            </div>
        </div>

        <div class="api-section">
            <h4 class="mb-3">Pengaturan API Gemini 2.5 Flash</h4>
            <div class="row">
                <div class="col-md-8">
                    <div class="input-group mb-3">
                        <span class="input-group-text">API Key</span>
                        <input type="password" id="apiKey" class="form-control" placeholder="Masukkan API Key Gemini Anda">
                        <button class="btn btn-primary" id="saveApiKey">Simpan</button>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="d-flex align-items-center">
                        <span class="status-indicator" id="apiStatus"></span>
                        <span id="apiStatusText">Status API: Tidak terhubung</span>
                    </div>
                </div>
            </div>
            <div class="form-text">
                Dapatkan API Key dari <a href="https://makersuite.google.com/app/apikey" target="_blank">Google AI Studio</a>
            </div>
        </div>

        <div class="generate-section">
            <h4>Generate Konten AI Manual</h4>
            <p class="text-muted">Pilih topik dan klik tombol di bawah untuk generate konten baru secara manual</p>
            
            <div class="topic-selector">
                <div class="topic-badge active" data-topic="umum">AI Umum</div>
                <div class="topic-badge" data-topic="chatgpt">ChatGPT</div>
                <div class="topic-badge" data-topic="gambar">AI Gambar</div>
                <div class="topic-badge" data-topic="video">AI Video</div>
                <div class="topic-badge" data-topic="bisnis">AI untuk Bisnis</div>
                <div class="topic-badge" data-topic="pendidikan">AI untuk Pendidikan</div>
            </div>
            
            <button id="generateBtn" class="btn btn-primary btn-lg">
                <i class="bi bi-magic me-2"></i>Generate Konten Sekarang
            </button>
            <div class="loading-spinner" id="loadingSpinner">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-2">Sedang menghasilkan konten...</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h3 class="mb-4">Konten AI Hari Ini</h3>
                <div id="threadsContainer" class="thread-container">
                    <!-- Thread akan dimuat di sini -->
                </div>
            </div>
        </div>

        <div class="image-prompt-section">
            <h4 class="mb-3">Generate Prompt Gambar AI</h4>
            <p class="text-muted">Klik tombol di bawah untuk membuat prompt gambar AI berdasarkan konten thread yang sedang ditampilkan. Prompt akan mencakup teks "PEMBELAJARAN JARAK JAUH".</p>
            <button id="generateImagePromptsBtn" class="btn btn-info">
                <i class="bi bi-image me-2"></i>Buat Prompt Gambar
            </button>
            <div id="imagePromptsContainer" class="mt-3">
                <!-- Image prompts will be loaded here -->
            </div>
        </div>
    </div>

    <div class="toast-container">
        <div id="copyToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">Berhasil Disalin</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Teks telah disalin ke clipboard
            </div>
        </div>
        <div id="errorToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-danger text-white">
                <strong class="me-auto">Error</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="errorMessage">
                Terjadi kesalahan saat menghasilkan konten
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let selectedTopic = 'umum'; // Variable to store selected topic

            // --- API Key and Status ---
            const savedApiKey = localStorage.getItem('geminiApiKey');
            if (savedApiKey) {
                document.getElementById('apiKey').value = savedApiKey;
                updateApiStatus(true);
            } else {
                updateApiStatus(false);
            }

            document.getElementById('saveApiKey').addEventListener('click', function() {
                const apiKey = document.getElementById('apiKey').value;
                if (apiKey.trim() !== '') {
                    localStorage.setItem('geminiApiKey', apiKey);
                    updateApiStatus(true);
                    showToast('API Key berhasil disimpan');
                } else {
                    showToast('API Key tidak boleh kosong', 'warning');
                }
            });

            function updateApiStatus(isConnected) {
                const statusIndicator = document.getElementById('apiStatus');
                const statusText = document.getElementById('apiStatusText');
                if (isConnected) {
                    statusIndicator.classList.add('status-active');
                    statusIndicator.classList.remove('status-inactive');
                    statusText.textContent = 'Status API: Terhubung';
                } else {
                    statusIndicator.classList.add('status-inactive');
                    statusIndicator.classList.remove('status-active');
                    statusText.textContent = 'Status API: Tidak terhubung';
                }
            }

            // --- Toast and Error Messaging ---
            function showToast(message, type = 'success') {
                const toastElement = document.getElementById('copyToast');
                const toastBody = toastElement.querySelector('.toast-body');
                toastBody.textContent = message;
                const toast = new bootstrap.Toast(toastElement);
                toast.show();
            }

            function showError(message) {
                const toastElement = document.getElementById('errorToast');
                const errorMessage = document.getElementById('errorMessage');
                errorMessage.textContent = message;
                const toast = new bootstrap.Toast(toastElement);
                toast.show();
            }

            // --- Copy to Clipboard Function ---
            function copyToClipboard(text) {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        showToast('Teks berhasil disalin');
                    } else {
                        showToast('Gagal menyalin teks', 'danger');
                    }
                } catch (err) {
                    showToast('Gagal menyalin teks', 'danger');
                    console.error('Gagal menyalin: ', err);
                }
                document.body.removeChild(textarea);
            }

            // --- Thread Content Generation and Display ---
            function createThread(threadData, index) {
                const threadCard = document.createElement('div');
                threadCard.className = 'thread-card';
                
                const header = document.createElement('div');
                header.className = 'thread-header';
                
                const headerTitle = document.createElement('span');
                headerTitle.textContent = `Thread ${index + 1}`;
                header.appendChild(headerTitle);

                // Add Copy All button for the thread
                const copyAllBtn = document.createElement('button');
                copyAllBtn.className = 'btn btn-sm btn-outline-secondary ms-3';
                copyAllBtn.innerHTML = '<i class="bi bi-clipboard me-1"></i> Salin Semua';
                copyAllBtn.addEventListener('click', function() {
                    let fullThreadText = `${threadData.hook}\n\n`;
                    threadData.prompts.forEach(p => {
                        fullThreadText += `• ${p}\n`;
                    });
                    fullThreadText += `\nPS: Saya juga buka kelas AI untuk kamu yang benar-benar awam!\nKeunggulannya: setiap hari ada postingan tutorial terbaru, update terus.\nBelajar bisa kapan saja mulai jam 08.00 sampai 00.00 WIB.\nBebas belajar sampai bisa, sistem bayar per 10 hari.\nDan yang paling penting, harganya terjangkau dan disesuaikan.\nLangsung klik: https://lynk.id/vdmax`;
                    copyToClipboard(fullThreadText);
                });
                header.appendChild(copyAllBtn); // Append the copy all button to the header

                const hook = document.createElement('div');
                hook.className = 'prompt-item';
                const hookText = document.createElement('span');
                hookText.textContent = threadData.hook;
                const hookCopyBtn = document.createElement('button');
                hookCopyBtn.className = 'copy-btn';
                hookCopyBtn.innerHTML = '<i class="bi bi-clipboard"></i>';
                hookCopyBtn.addEventListener('click', function() {
                    copyToClipboard(threadData.hook);
                });
                hook.appendChild(hookText);
                hook.appendChild(hookCopyBtn);
                
                const promptsContainer = document.createElement('div');
                threadData.prompts.forEach(prompt => {
                    const promptItem = document.createElement('div');
                    promptItem.className = 'prompt-item';
                    const promptText = document.createElement('span');
                    promptText.textContent = `• ${prompt}`;
                    const promptCopyBtn = document.createElement('button');
                    promptCopyBtn.className = 'copy-btn';
                    promptCopyBtn.innerHTML = '<i class="bi bi-clipboard"></i>';
                    promptCopyBtn.addEventListener('click', function() {
                        copyToClipboard(`• ${prompt}`);
                    });
                    promptItem.appendChild(promptText);
                    promptItem.appendChild(promptCopyBtn);
                    promptsContainer.appendChild(promptItem);
                });
                
                const ctaSection = document.createElement('div');
                ctaSection.className = 'cta-section';
                const ctaText = document.createElement('div');
                ctaText.innerHTML = `
                    PS: Saya juga buka kelas AI untuk kamu yang benar-benar awam!<br>
                    Keunggulannya: setiap hari ada postingan tutorial terbaru, update terus.<br>
                    Belajar bisa kapan saja mulai jam 08.00 sampai 00.00 WIB.<br>
                    Bebas belajar sampai bisa, sistem bayar per 10 hari.<br>
                    Dan yang paling penting, harganya terjangkau dan disesuaikan.<br>
                    Langsung klik: https://lynk.id/vdmax
                `;
                const ctaCopyBtn = document.createElement('button');
                ctaCopyBtn.className = 'btn btn-sm btn-outline-primary';
                ctaCopyBtn.innerHTML = '<i class="bi bi-clipboard me-1"></i> Salin CTA';
                ctaCopyBtn.addEventListener('click', function() {
                    const ctaFullText = `PS: Saya juga buka kelas AI untuk kamu yang benar-benar awam!\nKeunggulannya: setiap hari ada postingan tutorial terbaru, update terus.\nBelajar bisa kapan saja mulai jam 08.00 sampai 00.00 WIB.\nBebas belajar sampai bisa, sistem bayar per 10 hari.\nDan yang paling penting, harganya terjangkau dan disesuaikan.\nLangsung klik: https://lynk.id/vdmax`;
                    copyToClipboard(ctaFullText);
                });
                const ctaContainer = document.createElement('div');
                ctaContainer.className = 'd-flex justify-content-between align-items-center';
                ctaContainer.appendChild(ctaText);
                ctaContainer.appendChild(ctaCopyBtn);
                ctaSection.appendChild(ctaContainer);
                
                threadCard.appendChild(header);
                threadCard.appendChild(hook);
                threadCard.appendChild(promptsContainer);
                threadCard.appendChild(ctaSection);
                
                return threadCard;
            }

            async function generateThreadsWithAPI(apiKey, topic) {
                const loadingSpinner = document.getElementById('loadingSpinner');
                const generateBtn = document.getElementById('generateBtn');
                const container = document.getElementById('threadsContainer');
                
                loadingSpinner.classList.add('active');
                generateBtn.disabled = true;
                container.innerHTML = ''; // Clear previous threads
                document.getElementById('imagePromptsContainer').innerHTML = ''; // Clear image prompts too

                try {
                    let topicPrompt = '';
                    switch(topic) {
                        case 'chatgpt': topicPrompt = 'tentang strategi penggunaan ChatGPT'; break;
                        case 'gambar': topicPrompt = 'tentang AI untuk pembuatan gambar seperti Midjourney, DALL-E, atau Stable Diffusion'; break;
                        case 'video': topicPrompt = 'tentang AI untuk pembuatan dan editing video'; break;
                        case 'bisnis': topicPrompt = 'tentang penerapan AI untuk bisnis dan produktivitas'; break;
                        case 'pendidikan': topicPrompt = 'tentang pemanfaatan AI untuk pendidikan dan pembelajaran'; break;
                        default: topicPrompt = 'tentang berbagai aspek AI secara umum';
                    }
                    
                    const prompt = `Buat 3 thread unik berupa teks saja (tanpa em-dash maupun emoji) ${topicPrompt} yang praktis dan bisa langsung dipakai.
                    
                    Format setiap thread:
                    1. Diawali dengan kalimat hook yang menarik
                    2. Berisi 5-10 tips, tutorial, atau cara praktis
                    3. Setiap tips diawali dengan bullet point (•)
                    
                    Format respons JSON:
                    {
                        "threads": [
                            {
                                "hook": "Kalimat hook yang menarik",
                                "prompts": ["Tips 1", "Tips 2", ...]
                            },
                            ...
                        ]
                    }
                    
                    Pastikan respons dalam format JSON yang valid.`;

                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });

                    if (!response.ok) {
                        throw new Error(`API Error: ${response.status} ${response.statusText}`);
                    }

                    const data = await response.json();
                    const responseText = data.candidates[0].content.parts[0].text;
                    
                    let jsonMatch = responseText.match(/\{[\s\S]*\}/);
                    if (!jsonMatch) {
                        throw new Error('Format respons tidak valid');
                    }
                    
                    const threadsData = JSON.parse(jsonMatch[0]);
                    
                    container.innerHTML = '';
                    threadsData.threads.forEach((thread, index) => {
                        const threadElement = createThread(thread, index);
                        container.appendChild(threadElement);
                    });
                    
                    const now = new Date();
                    document.getElementById('lastGenerated').textContent = now.toLocaleString('id-ID');
                    
                    showToast('Konten berhasil dihasilkan!');
                    
                } catch (error) {
                    console.error('Error:', error);
                    showError(`Gagal menghasilkan konten: ${error.message}`);
                    generateSampleThreads(topic); // Fallback to sample threads if API fails
                } finally {
                    loadingSpinner.classList.remove('active');
                    generateBtn.disabled = false;
                }
            }

            function generateSampleThreads(topic) {
                let threads = [];
                switch(topic) {
                    case 'chatgpt':
                        threads = [
                            {
                                hook: "Punya bisnis kecil atau kerja freelance? Gunakan ChatGPT buat bantu kerja lebih cepat dan hemat waktu.",
                                prompts: [
                                    "Buat template penawaran harga untuk jasa desain grafis",
                                    "Tulis ulang deskripsi produk ini agar lebih menjual dan jelas",
                                    "Buat daftar pertanyaan wawancara awal untuk klien baru",
                                    "Susun email follow-up profesional untuk prospek yang belum merespons",
                                    "Rancang 3 opsi bio Instagram bisnis yang singkat dan efektif",
                                    "Buat ringkasan pitch produk 60 detik untuk presentasi lisan",
                                    "Ubah testimoni pelanggan ini jadi konten testimonial bergaya narasi",
                                    "Tulis 3 versi headline untuk landing page produk digital",
                                    "Buat jadwal konten seminggu untuk promosi jasa freelance",
                                    "Ubah keunggulan produk ini menjadi 5 bullet point iklan online"
                                ]
                            },
                            {
                                hook: "Ingin meningkatkan produktivitas kerja? ChatGPT bisa jadi asisten pribadi Anda untuk berbagai tugas.",
                                prompts: [
                                    "Buat ringkasan meeting dari catatan ini dalam poin-poin penting",
                                    "Susun agenda meeting untuk tim produktif dengan durasi 30 menit",
                                    "Tulis draft email untuk meminta perpanjangan deadline proyek",
                                    "Buat prioritas tugas harian berdasarkan daftar pekerjaan ini",
                                    "Rancang template laporan progress mingguan yang singkat dan jelas",
                                    "Tulis 3 opsi balasan untuk email keluhan pelanggan",
                                    "Buat daftar pertanyaan untuk evaluasi performa karyawan",
                                    "Susun jadwal kerja fleksibel untuk meningkatkan keseimbangan hidup",
                                    "Tulis draft pengumuman internal tentang perubahan kebijakan kantor",
                                    "Buat template feedback konstruktif untuk hasil kerja tim"
                                ]
                            },
                            {
                                hook: "Mahasiswa dan pelajar, manfaatkan ChatGPT untuk meningkatkan efektivitas belajar Anda.",
                                prompts: [
                                    "Jelaskan konsep fotosintesis dalam bahasa sederhana",
                                    "Buat ringkasan bab ini dalam 5 poin penting",
                                    "Tulis contoh soal latihan beserta pembahasannya",
                                    "Rancang jadwal belajar efektif untuk persiapan ujian",
                                    "Buat mind map dari topik ini untuk memudahkan pemahaman",
                                    "Tulis esai pendek tentang dampak teknologi terhadap pendidikan",
                                    "Buat daftar pertanyaan diskusi untuk kelompok belajar",
                                    "Jelaskan perbedaan antara teori A dan teori B",
                                    "Rancang metode menghafal efektif untuk materi ini",
                                    "Tulis rencana penelitian singkat untuk tugas akhir"
                                ]
                            }
                        ];
                        break;
                    case 'gambar':
                        threads = [
                            {
                                hook: "Mau bikin gambar keren dengan AI? Ini tips praktis buat pemula yang mau coba Midjourney atau DALL-E.",
                                prompts: [
                                    "Gunakan prompt deskriptif dengan detail spesifik tentang objek, latar, dan suasana",
                                    "Sebutkan gaya seni yang diinginkan seperti foto realistis, ilustrasi, atau lukisan minyak",
                                    "Tambahkan parameter kualitas seperti --ar 16:9 untuk format landscape atau --v 5 untuk versi terbaru",
                                    "Eksperimen dengan kombinasi warna yang tidak biasa untuk hasil yang unik",
                                    "Gunakan referensi seniman terkenal untuk mendapatkan gaya yang mirip",
                                    "Tambahkan detail pencahayaan seperti golden hour, neon, atau soft lighting",
                                    "Coba teknik negative prompting dengan menuliskan apa yang tidak ingin muncul di gambar",
                                    "Kombinasikan beberapa konsep yang berbeda untuk hasil yang kreatif",
                                    "Gunakan fitur image-to-image untuk mengubah foto menjadi gaya seni tertentu",
                                    "Pelajari istilah teknis photography seperti depth of field, bokeh, atau rule of thirds"
                                ]
                            },
                            {
                                hook: "Hasil gambar AI kurang memuaskan? Coba 10 teknik ini untuk meningkatkan kualitas output.",
                                prompts: [
                                    "Perbaiki prompt dengan menambahkan detail spesifik tentang tekstur dan material",
                                    "Gunakan prompt bertingkat dengan mulai dari konsep sederhana lalu tambahkan detail",
                                    "Eksperimen dengan berbagai model AI yang berbeda untuk hasil yang beragam",
                                    "Terapkan teknik inpainting untuk memperbaiki bagian gambar yang kurang sempurna",
                                    "Gunakan fitur upscaling untuk meningkatkan resolusi gambar tanpa kehilangan kualitas",
                                    "Kombinasikan beberapa gambar hasil AI dengan teknik image blending",
                                    "Pelajari parameter khusus seperti --chaos untuk tingkat variasi atau --stylize untuk kreativitas",
                                    "Coba pendekatan prompt negatif untuk menghindari elemen yang tidak diinginkan",
                                    "Gunakan referensi visual dengan upload gambar sebagai inspirasi",
                                    "Terapkan post-processing dengan editor gambar untuk sentuhan akhir"
                                ]
                            },
                            {
                                hook: "Mau monetisasi kemampuan bikin gambar AI? Ini 10 cara menghasilkan uang dari skill ini.",
                                prompts: [
                                    "Jual hasil gambar AI sebagai stock photo di platform seperti Shutterstock atau Adobe Stock",
                                    "Tawarkan jasa desain grafis dengan bantuan AI untuk efisiensi waktu",
                                    "Buat dan jual custom portrait dalam berbagai gaya seni",
                                    "Cetak hasil gambar AI pada merchandise seperti kaos, mug, atau casing HP",
                                    "Buat konten edukasi tentang cara menggunakan AI gambar di YouTube atau TikTok",
                                    "Tawarkan jasa pembuatan ilustrasi untuk buku atau majalah",
                                    "Jual prompt bundle khusus untuk niche tertentu dengan harga premium",
                                    "Buat komik atau webtoon dengan karakter yang dihasilkan AI",
                                    "Tawarkan jasa pembuatan logo bisnis dengan variasi desain yang banyak",
                                    "Kembangkan NFT art dengan kombinasi teknik AI yang unik"
                                ]
                            }
                        ];
                        break;
                    case 'video':
                        threads = [
                            {
                                hook: "Pengen bikin video keren tapi nggak punya skill editing? Coba 10 tool AI video ini yang bikin hidup kamu mudah.",
                                prompts: [
                                    "Gunakan Runway ML untuk menghapus background video secara otomatis",
                                    "Coba Pictory untuk mengubah artikel menjadi video dalam hitungan menit",
                                    "Manfaatkan Synthesia untuk membuat video presentasi dengan avatar AI",
                                    "Gunakan Descript untuk editing video berbasis teks seperti edit dokumen",
                                    "Coba HeyGen untuk membuat video dengan avatar yang berbicara berbagai bahasa",
                                    "Manfaatkan FlexClip untuk membuat video pendek dengan template siap pakai",
                                    "Gunakan Veed.io untuk menambahkan subtitle otomatis dalam berbagai bahasa",
                                    "Coba Lumen5 untuk mengubah konten blog menjadi video engaging",
                                    "Manfaatkan InVideo untuk membuat video profesional dengan library asset lengkap",
                                    "Gunakan Kapwing untuk kolaborasi editing video tim secara real-time"
                                ]
                            },
                            {
                                hook: "Mau bikin konten video viral? Ini 10 teknik AI yang bisa bikin video kamu standout.",
                                prompts: [
                                    "Gunakan AI untuk analisis tren dan prediksi topik yang akan viral",
                                    "Manfaatkan tools AI script writing untuk membuat narasi yang menarik",
                                    "Coba AI voice cloning untuk konsistensi suara narrator",
                                    "Gunakan AI untuk otomasi captioning dengan berbagai gaya teks",
                                    "Manfaatkan AI color grading untuk tampilan visual yang sinematik",
                                    "Coba AI background music generator untuk soundtrack yang sesuai mood",
                                    "Gunakan AI untuk analisis engagement dan optimasi thumbnail",
                                    "Manfaatkan AI untuk auto-editing berdasarkan rhythm dan beat",
                                    "Coba AI untuk membuat efek visual yang rumit dengan mudah",
                                    "Gunakan AI untuk personalisasi konten video untuk berbagai segmen audiens"
                                ]
                            },
                            {
                                hook: "Content creator wajib tahu! Ini 10 workflow AI yang bikin produksi video kamu 10x lebih cepat.",
                                prompts: [
                                    "Gunakan AI untuk riset keyword dan topik video yang potensial",
                                    "Manfaatkan AI untuk generate script outline dan struktur konten",
                                    "Coba AI voice over untuk narasi tanpa perlu rekaman manual",
                                    "Gunakan AI untuk auto-generate B-roll footage yang relevan",
                                    "Manfaatkan AI untuk editing cepat dengan smart cut detection",
                                    "Coba AI untuk color correction otomatis yang konsisten",
                                    "Gunakan AI untuk generate thumbnail yang eye-catching",
                                    "Manfaatkan AI untuk analisis performa video dan rekomendasi optimasi",
                                    "Coba AI untuk repurposing konten video ke berbagai platform",
                                    "Gunakan AI untuk scheduling dan publishing otomatis ke multiple platform"
                                ]
                            }
                        ];
                        break;
                    case 'bisnis':
                        threads = [
                            {
                                hook: "Pemilik bisnis UKM wajib coba! 10 tool AI yang bisa bikin operasional bisnis kamu lebih efisien.",
                                prompts: [
                                    "Gunakan ChatGPT untuk membuat draft email profesional ke klien atau supplier",
                                    "Manfaatkan Canva AI untuk desain grafis promosi tanpa skill design",
                                    "Coba Jasper AI untuk membuat copywriting marketing yang menjual",
                                    "Gunakan Notion AI untuk mengelola proyek dan dokumentasi bisnis",
                                    "Manfaatkan Fireflies.ai untuk transkripsi meeting otomatis",
                                    "Coba Crystal untuk analisis kepribadian dan komunikasi dengan klien",
                                    "Gunakan Zia AI dari Zoho untuk analisis penjualan dan prediksi tren",
                                    "Manfaatkan MonkeyLearn untuk analisis sentimen customer feedback",
                                    "Coba X.ai untuk scheduling meeting otomatis tanpa email bolak-balik",
                                    "Gunakan Timely untuk tracking waktu produktivitas tim otomatis"
                                ]
                            },
                            {
                                hook: "Mau scale up bisnis tapi terbatas SDM? 10 strategi AI ini bisa jadi solusi hemat biaya.",
                                prompts: [
                                    "Implementasikan chatbot AI untuk customer service 24/7",
                                    "Gunakan AI untuk personalisasi marketing campaign berdasarkan perilaku user",
                                    "Manfaatkan AI untuk prediksi inventory dan optimasi stok",
                                    "Coba AI pricing optimization untuk menentukan harga produk dinamis",
                                    "Gunakan AI untuk analisis kompetitor dan market intelligence",
                                    "Manfaatkan AI untuk lead scoring dan prioritas follow up sales",
                                    "Coba AI untuk otomasi laporan keuangan dan analisis cash flow",
                                    "Gunakan AI untuk deteksi fraud dan keamanan transaksi",
                                    "Manfaatkan AI untuk rekomendasi product bundling yang optimal",
                                    "Coba AI untuk forecasting demand dan perencanaan produksi"
                                ]
                            },
                            {
                                hook: "Pebisnis pemula, mulai dari mana pakai AI? Ini 10 langkah praktis implementasi AI di bisnis kecil.",
                                prompts: [
                                    "Identifikasi proses bisnis yang paling memakan waktu dan bisa diotomasi",
                                    "Pilih satu tool AI yang sesuai kebutuhan dan budget bisnis",
                                    "Pelajari tutorial dasar penggunaan tool AI yang dipilih",
                                    "Implementasikan gradual di satu departemen dulu sebagai pilot project",
                                    "Kumpulkan feedback dari tim yang menggunakan tool AI",
                                    "Evaluasi ROI dan efektivitas implementasi AI setelah 30 hari",
                                    "Sesuaikan penggunaan AI berdasarkan hasil evaluasi",
                                    "Latih tim untuk menggunakan AI secara efektif",
                                    "Kembangkan kebijakan penggunaan AI di perusahaan",
                                    "Rencanakan scaling implementasi AI ke departemen lain"
                                ]
                            }
                        ];
                        break;
                    case 'pendidikan':
                        threads = [
                            {
                                hook: "Guru dan dosen wajib tahu! 10 cara AI bisa bikin mengajar lebih efektif dan kurang melelahkan.",
                                prompts: [
                                    "Gunakan ChatGPT untuk membuat soal latihan dengan berbagai tingkat kesulitan",
                                    "Manfaatkan AI untuk membuat ringkasan materi pelajaran yang mudah dipahami",
                                    "Coba AI untuk membuat visualisasi konsep kompleks menjadi infografis",
                                    "Gunakan AI untuk membuat simulasi interaktif untuk pembelajaran praktik",
                                    "Manfaatkan AI untuk analisis hasil belajar siswa dan identifikasi gap pemahaman",
                                    "Coba AI untuk membuat quiz interaktif yang menyesuaikan dengan kemampuan siswa",
                                    "Gunakan AI untuk translasi materi ke berbagai bahasa dengan konteks yang tepat",
                                    "Manfaatkan AI untuk membuat rekomendasi belajar personal untuk setiap siswa",
                                    "Coba AI untuk membuat feedback otomatis yang konstruktif untuk tugas siswa",
                                    "Gunakan AI untuk membuat kurikulum adaptif berdasarkan kemajuan kelas"
                                ]
                            },
                            {
                                hook: "Mahasiswa, ini 10 tool AI yang bikin belajar lebih efisien dan nilai kamu makin memuaskan.",
                                prompts: [
                                    "Gunakan Notion AI untuk membuat catatan kuliah terstruktur otomatis",
                                    "Manfaatkan QuillBot untuk paraphrase teks dan cek plagiarism",
                                    "Coba Grammarly untuk memastikan esai dan tugas bebas dari kesalahan grammar",
                                    "Gunakan Otter.ai untuk merekam dan transkripsi kuliah secara otomatis",
                                    "Manfaatkan Wolfram Alpha untuk pemecahan masalah matematika dan sains kompleks",
                                    "Coba ELSA Speak untuk latihan pronunciation bahasa Inggris dengan feedback real-time",
                                    "Gunakan Mendeley untuk manajemen referensi dan sitasi otomatis",
                                    "Manfaatkan DeepL untuk translasi akademik yang lebih akurat",
                                    "Coba Khanmigo untuk tutor personal dalam berbagai mata pelajaran",
                                    "Gunakan Anki dengan AI untuk membuat flashcard yang efektif untuk menghafal"
                                ]
                            },
                            {
                                hook: "Orang tua ingin bantu anak belajar? 10 cara AI bisa jadi partner pendidikan di rumah.",
                                prompts: [
                                    "Gunakan aplikasi bercerita AI yang bisa membuat cerita edukatif personal",
                                    "Manfaatkan AI math solver untuk membantu anak memahami konsep matematika",
                                    "Coba AI language learning apps untuk pengenalan bahasa asing sejak dini",
                                    "Gunakan AI drawing apps untuk mengembangkan kreativitas visual anak",
                                    "Manfaatkan AI quiz maker untuk membuat kuis interaktif sesuai materi sekolah",
                                    "Coba AI science experiment simulator untuk percobaan virtual yang aman",
                                    "Gunakan AI reading assistant untuk meningkatkan kemampuan membaca anak",
                                    "Manfaatkan AI music composition apps untuk pengenalan musik dan melodi",
                                    "Coba AI coding for kids apps untuk pengenalan logika pemrograman",
                                    "Gunakan AI educational games untuk pembelajaran yang menyenangkan"
                                ]
                            }
                        ];
                        break;
                    default: // umum
                        threads = [
                            {
                                hook: "Pengen mulai pakai AI tapi bingung dari mana? Ini 10 langkah mudah untuk pemula di dunia AI.",
                                prompts: [
                                    "Pelajari konsep dasar AI seperti machine learning dan neural networks",
                                    "Coba tool AI populer seperti ChatGPT untuk merasakan langsung kemampuannya",
                                    "Ikuti komunitas AI di media sosial untuk update tren dan tutorial",
                                    "Baca artikel atau nonton video pengantar AI dari sumber terpercaya",
                                    "Coba fitur AI di aplikasi yang sudah kamu gunakan sehari-hari",
                                    "Pelajari cara membuat prompt yang efektif untuk mendapatkan hasil terbaik",
                                    "Eksperimen dengan berbagai jenis AI untuk tugas yang berbeda",
                                    "Ikuti kursus online dasar-dasar AI untuk pemahaman lebih mendalam",
                                    "Terapkan AI untuk satu tugas spesifik dalam pekerjaan atau studi kamu",
                                    "Bergabung dengan forum diskusi AI untuk bertanya dan berbagi pengalaman"
                                ]
                            },
                            {
                                hook: "Takut AI bakal gantikan pekerjaan manusia? Faktanya, ini 10 skill yang makin berharga di era AI.",
                                prompts: [
                                    "Kemampuan critical thinking untuk mengevaluasi hasil AI",
                                    "Kreativitas untuk menggabungkan ide dengan solusi AI",
                                    "Emotional intelligence untuk interaksi manusia yang autentik",
                                    "Kemampuan adaptif untuk belajar tool AI baru dengan cepat",
                                    "Complex problem solving untuk masalah yang tidak bisa diatasi AI",
                                    "Kemampuan komunikasi untuk menjelaskan konsep teknis ke non-teknis",
                                    "Collaboration untuk bekerja sama dengan AI dan tim manusia",
                                    "Leadership untuk mengarahkan tim dalam implementasi AI",
                                    "Ethical judgment untuk penggunaan AI yang bertanggung jawab",
                                    "Digital literacy untuk memahami batasan dan kemampuan AI"
                                ]
                            },
                            {
                                hook: "Banyak mitos tentang AI yang beredar. Ini 10 fakta AI yang perlu kamu ketahui, bukan sekadar hype.",
                                prompts: [
                                    "AI tidak memiliki kesadaran seperti yang digambarkan di film sci-fi",
                                    "AI saat ini bersifat narrow AI, dirancang untuk tugas spesifik",
                                    "Data kualitas lebih penting daripada algoritma kompleks",
                                    "AI bisa memiliki bias jika dilatih dengan data bias",
                                    "AI bukan pengganti manusia, melainkan alat bantu",
                                    "Etika AI jadi isu penting dalam pengembangan teknologi",
                                    "AI membutuhkan sumber daya komputasi yang besar",
                                    "Regulasi AI masih berkembang di berbagai negara",
                                    "AI bisa membuat kesalahan seperti halnya manusia",
                                    "Masa depan AI adalah kolaborasi manusia-AI, bukan dominasi"
                                ]
                            }
                        ];
                }
                
                const container = document.getElementById('threadsContainer');
                container.innerHTML = '';
                
                threads.forEach((thread, index) => {
                    const threadElement = createThread(thread, index);
                    container.appendChild(threadElement);
                });
                
                const now = new Date();
                document.getElementById('lastGenerated').textContent = now.toLocaleString('id-ID');
            }

            // --- Topic Selector ---
            document.querySelectorAll('.topic-badge').forEach(badge => {
                badge.addEventListener('click', function() {
                    document.querySelectorAll('.topic-badge').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    selectedTopic = this.getAttribute('data-topic');
                });
            });

            // --- Manual Content Generation ---
            document.getElementById('generateBtn').addEventListener('click', function() {
                const apiKey = localStorage.getItem('geminiApiKey');
                if (!apiKey) {
                    showError('Silakan masukkan API Key terlebih dahulu');
                    return;
                }
                generateThreadsWithAPI(apiKey, selectedTopic);
            });

            // --- Image Prompt Generation ---
            document.getElementById('generateImagePromptsBtn').addEventListener('click', generateImagePrompts);

            function generateImagePrompts() {
                const threadsContainer = document.getElementById('threadsContainer');
                const imagePromptsContainer = document.getElementById('imagePromptsContainer');
                imagePromptsContainer.innerHTML = ''; // Clear previous image prompts

                const threadCards = threadsContainer.querySelectorAll('.thread-card');
                
                if (threadCards.length === 0) {
                    showError('Tidak ada konten thread yang ditemukan untuk membuat prompt gambar.');
                    return;
                }

                threadCards.forEach((card, index) => {
                    // Extract hook text (assuming hook is the first `prompt-item` child of `thread-card`)
                    // Updated selector to be more robust
                    const hookElement = card.querySelector('.prompt-item span');
                    const hookText = hookElement ? hookElement.textContent.trim() : `Default hook for image prompt ${index + 1}`;

                    // Construct the image prompt
                    const imagePromptText = `A vibrant, futuristic, and digital illustration representing 'PEMBELAJARAN JARAK JAUH' (DISTANCE LEARNING). The scene shows diverse people of various ages, including adults and children, actively engaged with laptops, tablets, and smartphones. They are surrounded by glowing blue and pink digital lines, circuit patterns, and abstract data streams, symbolizing technology and connectivity, aligning with the concept of AI education as described by: '${hookText}'. The overall mood is innovative, educational, and accessible. Include the exact text 'PEMBELAJARAN JARAK JAUH' prominently displayed in the image. --ar 16:9 --style raw --v 5.2 --q 2`;

                    const promptItemDiv = document.createElement('div');
                    promptItemDiv.className = 'image-prompt-item';
                    
                    const promptPre = document.createElement('pre');
                    promptPre.textContent = imagePromptText;

                    const copyBtn = document.createElement('button');
                    copyBtn.className = 'copy-btn';
                    copyBtn.innerHTML = '<i class="bi bi-clipboard"></i>';
                    copyBtn.addEventListener('click', function() {
                        copyToClipboard(imagePromptText);
                    });

                    promptItemDiv.appendChild(promptPre);
                    promptItemDiv.appendChild(copyBtn);
                    imagePromptsContainer.appendChild(promptItemDiv);
                });
                showToast('Prompt gambar berhasil dibuat!');
            }

            // --- Initial Load and Daily Simulation ---
            generateSampleThreads(selectedTopic); // Load sample threads on page load

            function simulateDailyGeneration() {
                const now = new Date();
                const hours = now.getHours();
                const minutes = now.getMinutes();
                
                // If it's 7:00 AM WIB (UTC+7)
                // In a real serverless function, this check would happen on the server.
                // Here, it's just a client-side simulation.
                if (hours === 7 && minutes === 0) {
                    const apiKey = localStorage.getItem('geminiApiKey');
                    if (apiKey) {
                        generateThreadsWithAPI(apiKey, selectedTopic);
                    } else {
                        generateSampleThreads(selectedTopic);
                    }
                }
            }

            setInterval(simulateDailyGeneration, 60000); // Check every minute
        });
    </script>
</body>
</html>
